{"version":3,"sources":["webpack:///./examples/add.js"],"names":["index","Test","createClass","getInitialState","tabs","title","content","activeKey","onTabChange","setState","construct","disabled","state","map","t","position","cursor","color","right","top","remove","bind","padding","concat","add","e","stopPropagation","length","alert","foundIndex","after","filter","i","newTab","render","tabStyle","width","margin","document","getElementById"],"mappings":"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","file":"add.js","sourcesContent":["/* eslint react/no-multi-comp:0, no-console:0, no-alert:0 */\n\nimport 'rc-tabs/assets/index.less';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Tabs, { TabPane } from 'rc-tabs';\nimport TabContent from '../src/TabContent';\nimport ScrollableInkTabBar from '../src/ScrollableInkTabBar';\n\nlet index = 1;\n\nconst Test = React.createClass({\n  getInitialState() {\n    return {\n      tabs: [{\n        title: '初始',\n        content: '初始内容',\n      }],\n\n      activeKey: '初始',\n    };\n  },\n\n  onTabChange(activeKey) {\n    this.setState({\n      activeKey,\n    });\n  },\n\n  construct() {\n    const disabled = true;\n    return this.state.tabs.map((t) => {\n      return (<TabPane\n        tab={<span>{t.title}\n          <a\n            style={{\n              position: 'absolute',\n              cursor: 'pointer',\n              color: 'red',\n              right: 5,\n              top: 0,\n            }}\n            onClick={this.remove.bind(this, t.title)}\n          >x</a>\n      </span>}\n        key={t.title}\n      >\n        <div style={{ padding: 100 }}>\n          {t.content}\n        </div>\n      </TabPane>);\n    }).concat([\n      <TabPane\n        tab={<a style={{ color: 'black', cursor: 'pointer' }} onClick={this.add}> + 添加</a>}\n        disabled={disabled}\n        key={'__add'}\n      />,\n    ]);\n  },\n\n  remove(title, e) {\n    e.stopPropagation();\n    if (this.state.tabs.length === 1) {\n      alert('只剩一个，不能删');\n      return;\n    }\n    let foundIndex = 0;\n    const after = this.state.tabs.filter((t, i) => {\n      if (t.title !== title) {\n        return true;\n      }\n      foundIndex = i;\n      return false;\n    });\n    let activeKey = this.state.activeKey;\n    if (activeKey === title) {\n      if (foundIndex) {\n        foundIndex--;\n      }\n      activeKey = after[foundIndex].title;\n    }\n    this.setState({\n      tabs: after,\n      activeKey,\n    });\n  },\n\n  add(e) {\n    e.stopPropagation();\n    index++;\n    const newTab = {\n      title: `名称: ${index}`,\n      content: `内容: ${index}`,\n    };\n    this.setState({\n      tabs: this.state.tabs.concat(newTab),\n      activeKey: `名称: ${index}`,\n    });\n  },\n\n  render() {\n    const tabStyle = {\n      width: 500,\n    };\n\n    return (<div style={{ margin: 20 }}>\n      <h2>Addable Tabs</h2>\n\n      <div style={tabStyle}>\n        <Tabs\n          renderTabBar={() => <ScrollableInkTabBar\n            extraContent={\n              <button onClick={this.add}>+添加</button>\n            }\n          />}\n          renderTabContent={() => <TabContent/>}\n          activeKey={this.state.activeKey}\n          onChange={this.onTabChange}\n        >\n          {this.construct()}\n        </Tabs>\n      </div>\n    </div>);\n  },\n});\n\nReactDOM.render(<Test />, document.getElementById('__react-content'));\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/add.js\n **/"],"sourceRoot":""}